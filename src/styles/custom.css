/* Maximizar el ancho del contenido */
/*
:root {
    --sl-content-width: 100% !important;
    --sl-text-base: 1.1rem;
}
*/

/* Opcional: Ajustar el layout para que no se pegue a los bordes */
/*
.main-frame {
    max-width: 100vw;
}

.content-panel {
    max-width: 95% !important;
    margin: 0 auto;
}
*/
/* --- CONFIGURACIÓN DE LAYOUT --- */
:root {
    /* Aumentamos el ancho máximo del contenido (Default es ~45rem) */
    /* 80rem permite diagramas grandes sin romper las columnas laterales */
    /* 80rem; <-- valor inicial v1 , funcional */
    --sl-content-width: 60rem;

}

/* Ajuste para pantallas muy grandes */
/* 72rem <-- valor inicial v1 , funcional */
@media (min-width: 72rem) {

    :root {
        /* 85rem; <-- valor inicial v1 , funcional */
        --sl-content-width: 85rem;

    }
}

/* --- CORRECCIÓN DE CONTRASTE: SELECTOR DE TEMA --- */
/* Mejora el selector de modo oscuro/claro para que no se vea "lavado" */
/* --- CORRECCIÓN DE CONTRASTE Y SOLAPAMIENTO: SELECTOR DE TEMA --- */
starlight-theme-select select {
    background-color: var(--sl-color-gray-6) !important;
    border: 1px solid var(--sl-color-gray-4) !important;
    color: var(--sl-color-white) !important;
    /* Aumentamos el padding derecho (2.5rem) para dar espacio al icono */
    padding: 0.25rem 2.5rem 0.25rem 0.75rem !important;
    border-radius: 0.4rem;
    cursor: pointer;
    /* Aseguramos un ancho mínimo para que el texto no baile según la palabra */
    min-width: 7.5rem;
    /* Suavizamos la apariencia */
    font-size: var(--sl-text-sm) !important;
    line-height: 1.5;
}

/* El icono que Starlight pone encima necesita ser respetado */
starlight-theme-select label {
    /* Esto asegura que el icono (que suele ser un <svg> hermano) no bloquee el click */
    pointer-events: none;
}

starlight-theme-select select:hover {
    border-color: var(--sl-color-accent-high) !important;
    background-color: var(--sl-color-gray-5) !important;
}

/* --- OPTIMIZACIÓN DE DIAGRAMAS MERMAID --- */
.mermaid-diagram-container {
    display: flex;
    justify-content: center;
    background-color: #0f1117;
    /* Fondo oscuro profundo tipo VS Code */
    padding: 2rem;
    border-radius: 0.75rem;
    margin: 2rem 0;
    border: 1px solid var(--sl-color-gray-5);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    overflow-x: auto;
}

/* Estilización de los elementos internos del SVG de Mermaid */
.mermaid-diagram-container svg {
    max-width: 100% !important;
    height: auto !important;
}

/* Colores de Ingeniería para el diagrama (Modo Dark) */
.mermaid-diagram-container .node rect,
.mermaid-diagram-container .node circle,
.mermaid-diagram-container .node polygon {
    fill: #1e293b !important;
    /* Azul pizarra oscuro */
    stroke: var(--sl-color-accent-high) !important;
    /* Color principal de tu tema */
    stroke-width: 1.5px !important;
}

.mermaid-diagram-container .node .label {
    color: var(--sl-color-white) !important;
    font-weight: 500;
}

.mermaid-diagram-container .edgePath .path {
    stroke: var(--sl-color-gray-3) !important;
    stroke-width: 2px !important;
}

.mermaid-diagram-container .marker {
    fill: var(--sl-color-gray-3) !important;
}

/* --- LIMPIEZA VISUAL --- */
/* Evita el salto visual ocultando el código raw de mermaid */
pre:has(code.language-mermaid) {
    display: none !important;
}